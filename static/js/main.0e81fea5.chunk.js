(this.webpackJsonp23earth=this.webpackJsonp23earth||[]).push([[0],{245:function(t,e,n){},247:function(t,e,n){},447:function(t,e,n){"use strict";n.r(e);var r,i,o,a,c,s,p,u,l,h,b,d,j,f,O,y,g,m,w,x,v,k,P,D,R,I,C,z,M,S,Y,L,W,B,G,H,X,V,N=n(0),T=n(7),E=n.n(T),J=(n(245),n(20)),A=(n(246),n(237)),_=n(123),Z=n(25),U=(n(247),n(33)),K=n(125),q=n(163),$=n(10),F=n(31),Q=n(32),tt=n(5),et=(n(65),n(3)),nt=n(55),rt=(r=function(){function t(){Object(F.a)(this,t),Object($.a)(this,"mapId",i,this),Object($.a)(this,"loaded",o,this),Object($.a)(this,"listenerRegistered",a,this),Object($.a)(this,"mapData",c,this),Object($.a)(this,"mapDataIndex",s,this),Object($.a)(this,"currentRegionId",p,this),Object($.a)(this,"regions",u,this),Object($.a)(this,"snapshotGeneration",l,this)}return Object(Q.a)(t,[{key:"setMapId",value:function(t){this.mapId=t,this.loaded=!1}},{key:"finishRegisteringListener",value:function(){this.listenerRegistered=!0}},{key:"getPartById",value:function(t){var e=this.mapDataIndex.get(t);if(!e)throw new Error("Invalid part id: ".concat(t));return e}},{key:"currentRegion",get:function(){var t=this.currentRegionId;if(!t)return null;var e=Object(nt.find)(this.regions,{id:t});return e||null}},{key:"mergeRegions",value:function(t){var e,n=Object(q.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=Object(nt.find)(this.regions,{id:r.id});if(i){var o=Object(nt.union)(i.parts,r.parts);Object.assign(i,{parts:o})}else this.regions.push(r)}}catch(a){n.e(a)}finally{n.f()}this.snapshotGeneration++}},{key:"reset",value:function(){this.currentRegionId=null,this.regions=[],this.snapshotGeneration++}},{key:"setMapData",value:function(t){this.mapData=t,this.mapDataIndex=new Map;var e,n=Object(q.a)(t.parts);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.mapDataIndex.set(r.id,r)}}catch(i){n.e(i)}finally{n.f()}this.loaded=!0}},{key:"addPart",value:function(t){var e=this.currentRegion;null!==e&&-1===e.parts.indexOf(t)&&(e.parts=Object(nt.union)(e.parts,[t])),this.snapshotGeneration++}},{key:"deletePart",value:function(t,e){var n=Object(nt.find)(this.regions,{id:e});if(!n)throw new Error("No such region id: ".concat(e));e===this.currentRegionId&&(n.parts=n.parts.filter((function(e){return e!==t}))),this.snapshotGeneration++}},{key:"updateRegion",value:function(t){var e=Object(nt.find)(this.regions,{id:t.id});e?(Object.assign(e,t),this.setCurrentRegion(e)):(this.regions.push(t),this.setCurrentRegion(t)),this.snapshotGeneration++}},{key:"deleteRegion",value:function(t){this.currentRegionId===t&&(this.currentRegionId=null),this.regions=this.regions.filter((function(e){return e.id!==t})),this.snapshotGeneration++}},{key:"setCurrentRegion",value:function(t){this.currentRegionId=t.id,this.snapshotGeneration++}},{key:"setCurrentRegionById",value:function(t){var e=Object(nt.find)(this.regions,{id:t});if(!e)throw new Error("Region id not found: ".concat(t));this.setCurrentRegion(e),this.snapshotGeneration++}},{key:"resetCurrentRegion",value:function(){this.currentRegionId=null,this.snapshotGeneration++}},{key:"importSnapshot",value:function(t){this.regions=t.regions,this.currentRegionId=t.currentRegionId}},{key:"exportSnapshot",value:function(){return{regions:this.regions,currentRegionId:this.currentRegionId}}},{key:"snapshotKey",value:function(){return[this.currentRegionId].concat(Object(K.a)(nt.concat.apply(void 0,[[]].concat(Object(K.a)(this.regions.map((function(t){return[t.id,t.name,t.description].concat(Object(K.a)(t.parts))})))))))}}]),t}(),i=Object(tt.a)(r.prototype,"mapId",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=Object(tt.a)(r.prototype,"loaded",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=Object(tt.a)(r.prototype,"listenerRegistered",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=Object(tt.a)(r.prototype,"mapData",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{width:0,height:0,parts:[]}}}),s=Object(tt.a)(r.prototype,"mapDataIndex",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),p=Object(tt.a)(r.prototype,"currentRegionId",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=Object(tt.a)(r.prototype,"regions",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(tt.a)(r.prototype,"snapshotGeneration",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(tt.a)(r.prototype,"setMapId",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"setMapId"),r.prototype),Object(tt.a)(r.prototype,"finishRegisteringListener",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"finishRegisteringListener"),r.prototype),Object(tt.a)(r.prototype,"currentRegion",[et.g],Object.getOwnPropertyDescriptor(r.prototype,"currentRegion"),r.prototype),Object(tt.a)(r.prototype,"mergeRegions",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"mergeRegions"),r.prototype),Object(tt.a)(r.prototype,"reset",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"reset"),r.prototype),Object(tt.a)(r.prototype,"setMapData",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"setMapData"),r.prototype),Object(tt.a)(r.prototype,"addPart",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"addPart"),r.prototype),Object(tt.a)(r.prototype,"deletePart",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"deletePart"),r.prototype),Object(tt.a)(r.prototype,"updateRegion",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"updateRegion"),r.prototype),Object(tt.a)(r.prototype,"deleteRegion",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"deleteRegion"),r.prototype),Object(tt.a)(r.prototype,"setCurrentRegion",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"setCurrentRegion"),r.prototype),Object(tt.a)(r.prototype,"setCurrentRegionById",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"setCurrentRegionById"),r.prototype),Object(tt.a)(r.prototype,"resetCurrentRegion",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"resetCurrentRegion"),r.prototype),Object(tt.a)(r.prototype,"importSnapshot",[et.f],Object.getOwnPropertyDescriptor(r.prototype,"importSnapshot"),r.prototype),r),it=(h=function(){function t(){Object(F.a)(this,t),Object($.a)(this,"id",b,this),Object($.a)(this,"name",d,this),Object($.a)(this,"description",j,this),Object($.a)(this,"color",f,this),Object($.a)(this,"parts",O,this),Object($.a)(this,"mode",y,this)}return Object(Q.a)(t,[{key:"regionInfo",get:function(){return{id:this.id,name:this.name,description:this.description,color:this.color,parts:this.parts}}},{key:"reset",value:function(){this.id="",this.name="",this.description="",this.color="#ff0000",this.parts=[]}},{key:"hide",value:function(){this.reset(),this.mode="disabled"}},{key:"create",value:function(){this.reset(),this.mode="create"}},{key:"edit",value:function(t){this.id=t.id,this.name=t.name,this.description=t.description,this.color=t.color,this.parts=t.parts,this.mode="edit"}},{key:"setName",value:function(t){this.name=t,this.id=t}},{key:"setDescription",value:function(t){this.description=t}},{key:"setColor",value:function(t){this.color=t}}]),t}(),b=Object(tt.a)(h.prototype,"id",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=Object(tt.a)(h.prototype,"name",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=Object(tt.a)(h.prototype,"description",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=Object(tt.a)(h.prototype,"color",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"#ff0000"}}),O=Object(tt.a)(h.prototype,"parts",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=Object(tt.a)(h.prototype,"mode",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"disabled"}}),Object(tt.a)(h.prototype,"regionInfo",[et.g],Object.getOwnPropertyDescriptor(h.prototype,"regionInfo"),h.prototype),Object(tt.a)(h.prototype,"reset",[et.f],Object.getOwnPropertyDescriptor(h.prototype,"reset"),h.prototype),Object(tt.a)(h.prototype,"hide",[et.f],Object.getOwnPropertyDescriptor(h.prototype,"hide"),h.prototype),Object(tt.a)(h.prototype,"create",[et.f],Object.getOwnPropertyDescriptor(h.prototype,"create"),h.prototype),Object(tt.a)(h.prototype,"edit",[et.f],Object.getOwnPropertyDescriptor(h.prototype,"edit"),h.prototype),Object(tt.a)(h.prototype,"setName",[et.f],Object.getOwnPropertyDescriptor(h.prototype,"setName"),h.prototype),Object(tt.a)(h.prototype,"setDescription",[et.f],Object.getOwnPropertyDescriptor(h.prototype,"setDescription"),h.prototype),Object(tt.a)(h.prototype,"setColor",[et.f],Object.getOwnPropertyDescriptor(h.prototype,"setColor"),h.prototype),h),ot=(g=function(){function t(){Object(F.a)(this,t),Object($.a)(this,"zoom",m,this),Object($.a)(this,"centerX",w,this),Object($.a)(this,"centerY",x,this),Object($.a)(this,"mapWidth",v,this),Object($.a)(this,"mapHeight",k,this),Object($.a)(this,"windowWidth",P,this),Object($.a)(this,"windowHeight",D,this),Object($.a)(this,"snapshotGeneration",R,this)}return Object(Q.a)(t,[{key:"setSize",value:function(t,e,n,r){this.mapWidth=t,this.mapHeight=e,this.windowWidth=n,this.windowHeight=r}},{key:"initStatus",value:function(){this.zoom=Math.max(this.windowWidth/this.mapWidth,this.windowHeight/this.mapHeight),this.centerX=this.mapWidth/2,this.centerY=this.mapHeight/2,this.snapshotGeneration++}},{key:"setZoom",value:function(t){if(t>=Math.max(this.windowWidth/this.mapWidth,this.windowHeight/this.mapHeight)){var e=this.windowWidth/t,n=this.windowHeight/t;this.centerX<e/2?this.centerX=e/2:this.centerX>this.mapWidth-e/2&&(this.centerX=this.mapWidth-e/2),this.centerY<n/2?this.centerY=n/2:this.centerY>this.mapHeight-n/2&&(this.centerY=this.mapHeight-n/2),this.zoom=t,this.snapshotGeneration++}}},{key:"setPos",value:function(t,e){var n=this.windowWidth/this.zoom,r=this.windowHeight/this.zoom;if(t>=n/2&&t+n/2<=this.mapWidth)this.centerX=t;else if(t!==this.centerX){var i=n/2,o=this.mapWidth-n/2;this.centerX=Math.abs(i-t)>Math.abs(o-t)?o:i}if(e>=r/2&&e+r/2<=this.mapHeight)this.centerY=e;else if(e!==this.centerY){var a=r/2,c=this.mapHeight-r/2;this.centerY=Math.abs(a-e)>Math.abs(c-e)?c:a}this.snapshotGeneration++}},{key:"viewBox",get:function(){var t=this.windowWidth/this.zoom,e=this.windowHeight/this.zoom,n=this.centerX-t/2,r=this.centerY-e/2;return"".concat(n," ").concat(r," ").concat(t," ").concat(e)}},{key:"importSnapshot",value:function(t){this.zoom=t.zoom,this.centerX=t.centerX,this.centerY=t.centerY}},{key:"exportSnapshot",value:function(){return{centerX:this.centerX,centerY:this.centerY,zoom:this.zoom}}}]),t}(),m=Object(tt.a)(g.prototype,"zoom",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=Object(tt.a)(g.prototype,"centerX",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=Object(tt.a)(g.prototype,"centerY",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=Object(tt.a)(g.prototype,"mapWidth",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=Object(tt.a)(g.prototype,"mapHeight",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=Object(tt.a)(g.prototype,"windowWidth",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=Object(tt.a)(g.prototype,"windowHeight",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=Object(tt.a)(g.prototype,"snapshotGeneration",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(tt.a)(g.prototype,"setSize",[et.f],Object.getOwnPropertyDescriptor(g.prototype,"setSize"),g.prototype),Object(tt.a)(g.prototype,"initStatus",[et.f],Object.getOwnPropertyDescriptor(g.prototype,"initStatus"),g.prototype),Object(tt.a)(g.prototype,"setZoom",[et.f],Object.getOwnPropertyDescriptor(g.prototype,"setZoom"),g.prototype),Object(tt.a)(g.prototype,"setPos",[et.f],Object.getOwnPropertyDescriptor(g.prototype,"setPos"),g.prototype),Object(tt.a)(g.prototype,"viewBox",[et.g],Object.getOwnPropertyDescriptor(g.prototype,"viewBox"),g.prototype),Object(tt.a)(g.prototype,"importSnapshot",[et.f],Object.getOwnPropertyDescriptor(g.prototype,"importSnapshot"),g.prototype),g),at=(I=function(){function t(){Object(F.a)(this,t),Object($.a)(this,"title",C,this),Object($.a)(this,"author",z,this),Object($.a)(this,"visible",M,this),Object($.a)(this,"snapshotGeneration",S,this)}return Object(Q.a)(t,[{key:"show",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}},{key:"setTitle",value:function(t){this.title=t,this.snapshotGeneration++}},{key:"setAuthor",value:function(t){this.author=t,this.snapshotGeneration++}},{key:"importSnapshot",value:function(t){this.title=t.title,this.author=t.author,this.snapshotGeneration++}},{key:"exportSnapshot",value:function(){return{author:this.author,title:this.title}}}]),t}(),C=Object(tt.a)(I.prototype,"title",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=Object(tt.a)(I.prototype,"author",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=Object(tt.a)(I.prototype,"visible",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=Object(tt.a)(I.prototype,"snapshotGeneration",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(tt.a)(I.prototype,"show",[et.f],Object.getOwnPropertyDescriptor(I.prototype,"show"),I.prototype),Object(tt.a)(I.prototype,"hide",[et.f],Object.getOwnPropertyDescriptor(I.prototype,"hide"),I.prototype),Object(tt.a)(I.prototype,"setTitle",[et.f],Object.getOwnPropertyDescriptor(I.prototype,"setTitle"),I.prototype),Object(tt.a)(I.prototype,"setAuthor",[et.f],Object.getOwnPropertyDescriptor(I.prototype,"setAuthor"),I.prototype),Object(tt.a)(I.prototype,"importSnapshot",[et.f],Object.getOwnPropertyDescriptor(I.prototype,"importSnapshot"),I.prototype),I),ct=(Y=function(){function t(){Object(F.a)(this,t),Object($.a)(this,"onlineList",L,this),Object($.a)(this,"loading",W,this),Object($.a)(this,"visible",B,this)}return Object(Q.a)(t,[{key:"start",value:function(){this.onlineList=[],this.loading=!0,this.visible=!0}},{key:"finish",value:function(t){this.onlineList=t,this.loading=!1}},{key:"hide",value:function(){this.visible=!1}}]),t}(),L=Object(tt.a)(Y.prototype,"onlineList",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=Object(tt.a)(Y.prototype,"loading",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=Object(tt.a)(Y.prototype,"visible",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(tt.a)(Y.prototype,"start",[et.f],Object.getOwnPropertyDescriptor(Y.prototype,"start"),Y.prototype),Object(tt.a)(Y.prototype,"finish",[et.f],Object.getOwnPropertyDescriptor(Y.prototype,"finish"),Y.prototype),Object(tt.a)(Y.prototype,"hide",[et.f],Object.getOwnPropertyDescriptor(Y.prototype,"hide"),Y.prototype),Y),st=(G=function(){function t(){Object(F.a)(this,t),Object($.a)(this,"panelVisible",H,this),Object($.a)(this,"paintMode",X,this),Object($.a)(this,"contextMenu",V,this)}return Object(Q.a)(t,[{key:"showPanel",value:function(){this.panelVisible=!0}},{key:"hidePanel",value:function(){this.panelVisible=!1}},{key:"setPaintMode",value:function(t){this.paintMode=t}},{key:"resetMenu",value:function(){this.contextMenu=null}},{key:"showRegionMenu",value:function(t,e,n){this.contextMenu={type:"region",x:e,y:n,regionId:t}}}]),t}(),H=Object(tt.a)(G.prototype,"panelVisible",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=Object(tt.a)(G.prototype,"paintMode",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"click"}}),V=Object(tt.a)(G.prototype,"contextMenu",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(tt.a)(G.prototype,"showPanel",[et.f],Object.getOwnPropertyDescriptor(G.prototype,"showPanel"),G.prototype),Object(tt.a)(G.prototype,"hidePanel",[et.f],Object.getOwnPropertyDescriptor(G.prototype,"hidePanel"),G.prototype),Object(tt.a)(G.prototype,"setPaintMode",[et.f],Object.getOwnPropertyDescriptor(G.prototype,"setPaintMode"),G.prototype),Object(tt.a)(G.prototype,"resetMenu",[et.f],Object.getOwnPropertyDescriptor(G.prototype,"resetMenu"),G.prototype),Object(tt.a)(G.prototype,"showRegionMenu",[et.f],Object.getOwnPropertyDescriptor(G.prototype,"showRegionMenu"),G.prototype),G),pt=new rt,ut=new it,lt=new ot,ht=new at,bt=new ct,dt=new st,jt=n(16),ft=n(239),Ot=n(171),yt=n(169),gt=n(2),mt=["background","borderVisible"],wt=function(t){Object(Ot.a)(n,t);var e=Object(yt.a)(n);function n(){return Object(F.a)(this,n),e.apply(this,arguments)}return Object(Q.a)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t=this;return Object(gt.jsx)("g",{children:this.props.background.map((function(e){var n=e.id,r=e.path,i=e.transform;return Object(gt.jsx)("path",{d:r,id:n,fill:"black",transform:i||void 0,stroke:"white",strokeWidth:t.props.borderVisible?.5:0,onClick:function(){return pt.addPart(n)},onMouseOver:function(t){t.buttons>0&&"swipe"===dt.paintMode&&pt.addPart(n)}},n)}))})}}]),n}(N.Component),xt=function(t){Object(Ot.a)(n,t);var e=Object(yt.a)(n);function n(){return Object(F.a)(this,n),e.apply(this,arguments)}return Object(Q.a)(n,[{key:"shouldComponentUpdate",value:function(t){return 0===t.generation||t.generation!==this.props.generation}},{key:"render",value:function(){var t=this,e=this.props,n=e.regions,r=e.onClick,i=e.onMouseOver,o=e.borderVisible,a=e.onMenu;return Object(gt.jsx)("g",{children:n.map((function(e){return Object(gt.jsx)("g",{children:e.parts.map(t.props.getPartById).map((function(t){return Object(gt.jsx)("path",{d:t.path,fill:e.color,stroke:"white",transform:t.transform||void 0,strokeWidth:o?.5:0,onClick:function(n){r&&r(t.id,e.id)},onContextMenu:function(t){a&&a(t.pageX,t.pageY),t.preventDefault()},onMouseOver:function(n){return i&&n.buttons>0&&i(t.id,e.id)}},t.id)}))},e.id)}))})}}]),n}(N.Component),vt=function(t){var e=t.background,n=t.borderVisible,r=Object(ft.a)(t,mt);return Object(gt.jsxs)("g",{children:[Object(gt.jsx)(wt,{background:e,borderVisible:n}),Object(gt.jsx)(xt,Object(jt.a)({borderVisible:n},r))]})},kt=n(457),Pt=n(456),Dt=function(t){t.regionId,t.x,t.y;var e=t.style;return Object(gt.jsx)(Pt.a,{style:e,children:Object(gt.jsx)(Pt.a.Item,{children:"Test"})})},Rt=Object(U.b)((function(){var t=dt.contextMenu;if(!t)return null;var e={position:"fixed",left:t.x,top:t.y,zIndex:101};return Object(gt.jsxs)("div",{children:[Object(gt.jsx)("div",{onClick:function(){return dt.resetMenu()},style:{position:"fixed",left:0,top:0,width:"100%",height:"100%",margin:0,backgroundColor:"black",opacity:.5,zIndex:100}}),"region"!==t.type?null:Object(gt.jsx)(Dt,Object(jt.a)(Object(jt.a)({},t),{},{style:e}))]})})),It={width:"100%",height:"100%",margin:"0",left:"0",top:"0",position:"absolute",overflow:"hidden"},Ct=Object(U.b)((function(){return Object(gt.jsx)("svg",{width:"100%",height:"100%",onWheel:function(t){t.pageX,t.pageY;var e=t.deltaX,n=t.deltaY;t.altKey?lt.setZoom(Math.pow(1.001,n)*lt.zoom):lt.setPos(lt.centerX+e/lt.zoom,lt.centerY+n/lt.zoom)},viewBox:lt.viewBox,children:Object(gt.jsx)(vt,{borderVisible:!0,background:pt.mapData.parts,generation:pt.snapshotGeneration,regions:pt.regions,getPartById:function(t){return pt.getPartById(t)},onClick:function(t,e){e===pt.currentRegionId?pt.deletePart(t,e):kt.a.confirm({title:"\u6b63\u5728\u7f16\u8f91\u5176\u4ed6\u5730\u533a",content:"\u662f\u5426\u5207\u6362\u5230\u8be5\u5730\u533a?",onOk:function(){return pt.setCurrentRegionById(e)}})},onMouseOver:function(t,e){"erase"===dt.paintMode&&(e===pt.currentRegionId?pt.deletePart(t,e):kt.a.confirm({title:"\u6b63\u5728\u7f16\u8f91\u5176\u4ed6\u5730\u533a",content:"\u662f\u5426\u5207\u6362\u5230\u8be5\u5730\u533a?",onOk:function(){return pt.setCurrentRegionById(e)}}))},onMenu:function(t,e){pt.currentRegionId&&dt.showRegionMenu(pt.currentRegionId,t,e)}})})})),zt=function(){return Object(N.useLayoutEffect)((function(){var t=document.querySelector("#mapSvgBody");t&&t.addEventListener("mousewheel",(function(t){t.preventDefault()}))})),Object(gt.jsxs)("div",{id:"mapSvgBody",style:It,children:[Object(gt.jsx)(Ct,{}),Object(gt.jsx)(Rt,{})]})},Mt=n(13),St=n.n(Mt),Yt=n(26);function Lt(t,e){return Object(et.o)((function(){return e.snapshotGeneration}),(function(){!function(t,e){localStorage[t+".".concat(pt.mapId)]=JSON.stringify(e.exportSnapshot())}(t,e)}))}function Wt(t,e){if(localStorage[t+".".concat(pt.mapId)]){var n=JSON.parse(localStorage[t+".".concat(pt.mapId)]);return e.importSnapshot(n),!0}return!1}var Bt=n(39),Gt=n.n(Bt);function Ht(){lt.setZoom(2*lt.zoom)}function Xt(){lt.setZoom(lt.zoom/2)}function Vt(t,e){var n=100*t/lt.zoom,r=100*e/lt.zoom;lt.setPos(lt.centerX+n,lt.centerY+r)}var Nt=n(94),Tt=n(459),Et=[Object(Yt.a)(St.a.mark((function t(){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(4).then(n.t.bind(null,460,3));case 2:return t.abrupt("return",t.sent.default);case 3:case"end":return t.stop()}}),t)})))],Jt={world:function(){var t=Object(Yt.a)(St.a.mark((function t(){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(3).then(n.t.bind(null,461,3));case 2:return t.abrupt("return",t.sent.default);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()};function At(t){return _t.apply(this,arguments)}function _t(){return(_t=Object(Yt.a)(St.a.mark((function t(e){var n;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return pt.setMapId(e),t.next=3,Jt[e]();case 3:return n=t.sent,pt.setMapData(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Zt="ifworlds.map.local_commit_list.",Ut="ifworlds.map.data.";function Kt(t){var e=localStorage[Zt+t];return e?JSON.parse(e):[]}function qt(t){var e=Kt(t.mid);e.push(t),localStorage[Zt+t.mid]=JSON.stringify(e)}function $t(t,e){var n=(new Date).getTime(),r=t;return localStorage["".concat(Ut).concat(n,".").concat(r)]=JSON.stringify(e),{cid:n,mid:r}}function Ft(t){var e=t.cid,n=t.mid;return JSON.parse(localStorage["".concat(Ut).concat(e,".").concat(n)])}function Qt(t){return te.apply(this,arguments)}function te(){return(te=Object(Yt.a)(St.a.mark((function t(e){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:qt($t(pt.mapId,e)),Tt.a.success({message:"\u5df2\u4fdd\u5b58"});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ee(){return(ee=Object(Yt.a)(St.a.mark((function t(){var e;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:bt.start(),e=Kt(pt.mapId).map((function(t){var e=Ft(t);return{title:e.title,author:e.author,time:t.cid,regionHash:"".concat(t.mid,":").concat(t.cid)}})),bt.finish(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ne(){return(ne=Object(Yt.a)(St.a.mark((function t(e){var n,r,i,o,a,c;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.split(":"),r=Object(Nt.a)(n,2),i=r[0],o=r[1],a=parseInt(o),(c=Ft({cid:a,mid:i}).regions)instanceof Array?(pt.mergeRegions(c),Tt.a.success({type:"success",message:"\u6210\u529f\u5408\u5e76"})):Tt.a.error({message:"\u672a\u77e5\u9519\u8bef"});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var re="23earth.snapshot.map",ie="23earth.snapshot.pos",oe="23earth.snapshot.upload";function ae(){return(ae=Object(Yt.a)(St.a.mark((function t(e){var n;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At(e);case 2:return n=t.sent,Wt(re,pt),lt.setSize(n.width,n.height,document.body.clientWidth,document.body.clientHeight),Wt(ie,lt)||lt.initStatus(),Wt(oe,ht),t.abrupt("return",ce());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ce(){pt.listenerRegistered||(Gt.a.bind("up",(function(){return Vt(0,-1)})),Gt.a.bind("down",(function(){return Vt(0,1)})),Gt.a.bind("left",(function(){return Vt(-1,0)})),Gt.a.bind("right",(function(){return Vt(1,0)})),Gt.a.bind("w",(function(){return Vt(0,-1)})),Gt.a.bind("s",(function(){return Vt(0,1)})),Gt.a.bind("a",(function(){return Vt(-1,0)})),Gt.a.bind("d",(function(){return Vt(1,0)})),Gt.a.bind("alt + up",Ht),Gt.a.bind("alt + down",Xt),Gt.a.bind("alt + w",Ht),Gt.a.bind("alt + s",Xt),pt.finishRegisteringListener());var t=Lt(re,pt),e=Lt(ie,lt),n=Lt(oe,ht);return function(){t(),e(),n()}}var se=n(451),pe=n(452),ue=n(455),le=n(83),he=n.n(le),be=n(230),de=n.n(be),je=n(236);function fe(){pt.updateRegion(ut.regionInfo),ut.hide()}var Oe=Object(U.b)((function(){return Object(gt.jsx)(kt.a,{visible:"disabled"!==ut.mode,onOk:fe,onCancel:function(){return ut.hide()},children:Object(gt.jsxs)(se.a,{children:[Object(gt.jsx)(pe.a,{span:24,children:Object(gt.jsx)(he.a,{label:"\u540d\u79f0",children:Object(gt.jsx)(ue.a,{value:ut.name,onChange:function(t){return ut.setName(t.target.value)}})})}),Object(gt.jsx)(pe.a,{span:24,children:Object(gt.jsx)(he.a,{label:"\u63cf\u8ff0",children:Object(gt.jsx)(de.a,{value:ut.description,onChange:function(t){return ut.setDescription(t.target.value)}})})}),Object(gt.jsx)(pe.a,{span:24,children:Object(gt.jsx)(je.a,{color:ut.color,onChange:function(t){return ut.setColor(t.hex)}})})]})})})),ye=n(458),ge=n(9),me=n(34),we=n(453),xe=n(21),ve=function(t){var e=t.color;return Object(gt.jsx)("div",{style:{width:"0.8rem",height:"0.8rem",display:"inline-block",marginLeft:"0.2rem",marginRight:"0.2rem",backgroundColor:e}})},ke=Object(U.b)((function(){return Object(gt.jsxs)(kt.a,{visible:ht.visible,onCancel:function(){return ht.hide()},onOk:Object(Yt.a)(St.a.mark((function t(){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qt({author:ht.author,title:ht.title,regions:pt.regions});case 2:ht.hide();case 3:case"end":return t.stop()}}),t)}))),children:[Object(gt.jsx)(he.a,{label:"\u6807\u9898",validateStatus:ht.title?"success":"error",children:Object(gt.jsx)(ue.a,{defaultValue:ht.title,onChange:function(t){return ht.setTitle(t.target.value)}})}),Object(gt.jsx)(he.a,{label:"\u59d3\u540d",validateStatus:ht.author?"success":"error",children:Object(gt.jsx)(ue.a,{defaultValue:ht.author,onChange:function(t){return ht.setAuthor(t.target.value)}})})]})})),Pe=n(454),De=n(231),Re=n(52),Ie=n.n(Re),Ce=Object(xe.c)((function(){return Object(gt.jsx)(Pe.a,{children:bt.onlineList.map((function(t){var e=t.title,n=t.author,r=t.time,i=t.regionHash;return Object(gt.jsxs)(Pe.a.Item,{actions:[Object(gt.jsx)(we.a,{title:"\u5c06\u83b7\u53d6\u5e76\u5408\u5e76\u6240\u6709\u5730\u533a\u4fe1\u606f\uff0c\u8be5\u64cd\u4f5c\u65e0\u6cd5\u64a4\u9500\u3002",okType:"danger",onConfirm:function(){return function(t){return ne.apply(this,arguments)}(i)},children:Object(gt.jsx)(me.a,{type:"primary",children:"\u62c9\u53d6\u5e76\u5408\u5e76"})})],children:[e," (",n,") ",Ie()(r).format("YYYY\u5e74MM\u6708DD\u65e5 hh:mm:ss")]},"".concat(r,"_").concat(i))}))})})),ze=Object(xe.c)((function(){return Object(gt.jsx)(kt.a,{visible:bt.visible,okButtonProps:{hidden:!0},cancelButtonProps:{hidden:!0},onCancel:function(){return bt.hide()},style:{width:"80%",height:"80%"},bodyStyle:{overflowY:"auto"},children:bt.loading?Object(gt.jsx)(De.a,{}):Object(gt.jsx)(Ce,{})})})),Me=n(233),Se=n.n(Me),Ye=n(234),Le=n.n(Ye);function We(){return Be.apply(this,arguments)}function Be(){return(Be=Object(Yt.a)(St.a.mark((function t(){var e,n,r,i=arguments;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:1,n=i.length>1&&void 0!==i[1]&&i[1],r=Object(gt.jsx)("svg",{width:pt.mapData.width*e,height:pt.mapData.height*e,viewBox:"0 0 ".concat(pt.mapData.width," ").concat(pt.mapData.height),xmlns:"http://www.w3.org/2000/svg",children:Object(gt.jsx)(vt,{background:pt.mapData.parts,regions:pt.regions,generation:0,borderVisible:n,getPartById:function(t){return pt.getPartById(t)}})}),t.abrupt("return",Se.a.renderToString(r));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ge(t,e,n){return He.apply(this,arguments)}function He(){return(He=Object(Yt.a)(St.a.mark((function t(e,n,r){var i;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new Blob([n],{type:e}),t.next=3,Xe(i,r);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xe(t,e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(Yt.a)(St.a.mark((function t(e,n){var r;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=window.URL.createObjectURL(e),t.next=3,Ne(r,n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ne(t,e){return Te.apply(this,arguments)}function Te(){return(Te=Object(Yt.a)(St.a.mark((function t(e,n){var r;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=document.createElement("a")).href=e,r.download=n,r.click();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ee(){return Je.apply(this,arguments)}function Je(){return(Je=Object(Yt.a)(St.a.mark((function t(){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We();case 2:Ge("image/svg+xml",t.sent,"23earth_".concat(Ie()().format("YYYY-MM-DD_hh:mm:ss"),".svg"));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ae(){return(Ae=Object(Yt.a)(St.a.mark((function t(e){var n,r,i,o,a;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e/pt.mapData.height,t.next=3,We(n,!1);case 3:return r=t.sent,(i=document.createElement("div")).innerHTML=r,i.style.left="".concat(document.body.clientWidth,"px"),i.style.top="".concat(document.body.clientHeight,"px"),i.style.width="".concat(pt.mapData.width*n,"px"),i.style.height="".concat(e,"px"),i.style.backgroundColor="white",document.body.appendChild(i),t.next=14,Le()(i);case 14:o=t.sent,a=o.toDataURL("image/png"),i.remove(),Ne(a,"23earth_".concat(Ie()().format("YYYY-MM-DD_hh:mm:ss"),".png"));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _e,Ze,Ue,Ke=n(166),qe=n.n(Ke),$e={ghost:!1,block:!0},Fe=Object(xe.c)((function(){return Object(gt.jsx)(pe.a,{span:24,children:Object(gt.jsx)(ye.a,{overlayStyle:{maxHeight:"60vh",overflowY:"auto"},placement:"bottomLeft",overlay:Object(gt.jsxs)(Pt.a,{children:[pt.regions.map((function(t){return Object(gt.jsxs)(Pt.a.Item,{onClick:function(){return pt.setCurrentRegion(t)},children:[Object(gt.jsx)(ve,{color:t.color}),t.name]},t.id)})),Object(gt.jsxs)(Pt.a.Item,{onClick:function(){return ut.create()},children:[Object(gt.jsx)(ge.a,{type:"plus"}),"\u589e\u52a0\u5730\u533a"]})]}),children:Object(gt.jsx)(me.a,Object(jt.a)(Object(jt.a)({},$e),{},{children:pt.currentRegion?Object(gt.jsxs)("span",{children:[Object(gt.jsx)(ve,{color:pt.currentRegion.color}),pt.currentRegion.name]}):"\u672a\u9009\u62e9"}))})})})),Qe=Object(xe.c)((function(){return pt.currentRegionId?Object(gt.jsx)(qe.a,{style:{width:"100%"},children:Object(gt.jsxs)(se.a,{children:[Object(gt.jsx)(pe.a,{span:8,children:Object(gt.jsx)(me.a,Object(jt.a)(Object(jt.a)({},$e),{},{icon:"edit",type:"primary",onClick:function(){return pt.currentRegion&&ut.edit(pt.currentRegion)},children:"\u7f16\u8f91"}))}),Object(gt.jsx)(pe.a,{span:8,children:Object(gt.jsx)(me.a,Object(jt.a)(Object(jt.a)({},$e),{},{type:"default",icon:"minus",onClick:function(){return pt.resetCurrentRegion()},children:"\u53d6\u6d88"}))}),Object(gt.jsx)(pe.a,{span:8,children:Object(gt.jsx)(we.a,{title:"\u8be5\u5730\u533a\u7684\u6240\u6709\u4fe1\u606f\u90fd\u4f1a\u4e22\u5931, \u4e14\u4e0d\u53ef\u6062\u590d, \u786e\u5b9a\u8981\u5220\u9664\u5417?",okType:"danger",icon:"delete",onConfirm:function(){return pt.currentRegionId&&pt.deleteRegion(pt.currentRegionId)},children:Object(gt.jsx)(me.a,Object(jt.a)(Object(jt.a)({},$e),{},{type:"danger",children:"\u5220\u9664"}))})})]})}):null})),tn=function(){return Object(gt.jsx)(ye.a,{overlay:Object(gt.jsxs)(Pt.a,{children:[Object(gt.jsx)(Pt.a.Item,{onClick:Ee,children:"SVG\u683c\u5f0f"}),Object(gt.jsx)(Pt.a.Item,{onClick:function(){return function(t){return Ae.apply(this,arguments)}(1080)},children:"PNG\u683c\u5f0f(1080p)"})]}),children:Object(gt.jsx)(me.a,Object(jt.a)(Object(jt.a)({},$e),{},{icon:"export",children:"\u5bfc\u51fa"}))})},en=function(){return Object(gt.jsx)(qe.a,{style:{width:"100%"},children:Object(gt.jsxs)(se.a,{children:[Object(gt.jsx)(pe.a,{span:6,children:Object(gt.jsx)(me.a,Object(jt.a)(Object(jt.a)({},$e),{},{icon:"cloud-upload",onClick:function(){return ht.show()},children:"\u4e0a\u4f20"}))}),Object(gt.jsx)(pe.a,{span:6,children:Object(gt.jsx)(me.a,Object(jt.a)(Object(jt.a)({},$e),{},{icon:"cloud-download",onClick:function(){return function(){return ee.apply(this,arguments)}()},children:"\u62c9\u53d6"}))}),Object(gt.jsx)(pe.a,{span:6,children:Object(gt.jsx)(tn,{})}),Object(gt.jsx)(pe.a,{span:6,children:Object(gt.jsx)(we.a,{okType:"danger",title:"\u5c06\u6e05\u7a7a\u6240\u6709\u672c\u5730\u5730\u56fe\u6570\u636e, \u4e14\u65e0\u6cd5\u6062\u590d, \u786e\u5b9a\u8981\u6e05\u7a7a\u5417?",onConfirm:function(){pt.reset(),lt.initStatus()},children:Object(gt.jsx)(me.a,Object(jt.a)(Object(jt.a)({},$e),{},{type:"danger",icon:"delete",children:"\u6e05\u7a7a\u5730\u56fe"}))})})]})})},nn={position:"fixed",left:"0.5rem",top:"0.5rem",backgroundColor:"white",color:"black",borderColor:"black",borderWidth:"0.2rem",borderStyle:"dashed",maxWidth:"calc(100% - 1rem)",padding:"0.5rem"},rn={marginTop:"0.2rem",marginBottom:"0.2rem"},on=Object(xe.c)((function(){return Object(gt.jsxs)("div",{style:Object(jt.a)(Object(jt.a)({},nn),{},{display:dt.panelVisible?"block":"none"}),children:[Object(gt.jsx)(se.a,{children:Object(gt.jsx)(pe.a,{style:{textAlign:"left"},children:Object(gt.jsx)(me.a,{shape:"round",icon:"close",size:"large",type:"dashed",style:{border:"none"},onClick:function(){return dt.hidePanel()}})})}),Object(gt.jsxs)(se.a,{children:[Object(gt.jsx)(pe.a,{span:24,style:rn,children:Object(gt.jsx)(en,{})}),Object(gt.jsx)(pe.a,{span:24,style:rn,children:Object(gt.jsx)(Fe,{})}),Object(gt.jsx)(pe.a,{span:24,style:rn,children:Object(gt.jsx)(Qe,{})})]}),Object(gt.jsx)(ke,{}),Object(gt.jsx)(ze,{}),Object(gt.jsx)(Oe,{})]})})),an={position:"fixed",top:"1rem",left:"1rem",backgroundColor:"black",color:"white",border:"white 0.2rem solid"},cn=Object(xe.c)((function(){return Object(gt.jsx)(me.a,{size:"large",shape:"round",icon:"tool",style:Object(jt.a)(Object(jt.a)({},an),{},{display:dt.panelVisible?"none":"block"}),onClick:function(){return dt.showPanel()}})})),sn=function(){return Object(gt.jsxs)("div",{children:[Object(gt.jsx)(cn,{}),Object(gt.jsx)(on,{})]})},pn={position:"fixed",right:"0.5rem",bottom:"0.5rem",width:"10rem"},un=function(t){var e=t.icon,n=t.onClick;return Object(gt.jsx)(me.a,{shape:"round",size:"large",style:{backgroundColor:"black",color:"white",border:"0.2rem white solid"},icon:e,onClick:n})},ln=function(){return Object(gt.jsxs)("div",{style:pn,children:[Object(gt.jsxs)(se.a,{gutter:0,children:[Object(gt.jsx)(pe.a,{span:6,children:Object(gt.jsx)(un,{icon:"plus",onClick:Ht})}),Object(gt.jsx)(pe.a,{span:6,offset:6,children:Object(gt.jsx)(un,{icon:"up",onClick:function(){return Vt(0,-1)}})})]}),Object(gt.jsxs)(se.a,{gutter:0,children:[Object(gt.jsx)(pe.a,{span:6,offset:6,children:Object(gt.jsx)(un,{icon:"left",onClick:function(){return Vt(-1,0)}})}),Object(gt.jsx)(pe.a,{span:6,offset:6,children:Object(gt.jsx)(un,{icon:"right",onClick:function(){return Vt(1,0)}})})]}),Object(gt.jsxs)(se.a,{gutter:0,children:[Object(gt.jsx)(pe.a,{span:6,children:Object(gt.jsx)(un,{icon:"minus",onClick:Xt})}),Object(gt.jsx)(pe.a,{span:6,offset:6,children:Object(gt.jsx)(un,{icon:"down",onClick:function(){return Vt(0,1)}})})]})]})},hn={size:"large",shape:"round",style:{position:"fixed",left:"0.5rem",bottom:"0.5rem",border:"white 0.2rem solid",color:"white",backgroundColor:"black"}},bn=[["click","edit","\u70b9\u51fb\u6dfb\u52a0"],["swipe","bg-colors","\u6ed1\u52a8\u6dfb\u52a0"],["erase","scissor","\u6ed1\u52a8\u5220\u9664"]],dn=new Map(bn.map((function(t){var e=Object(Nt.a)(t,2);return[e[0],e[1]]}))),jn=Object(xe.c)((function(){return Object(gt.jsx)("div",{children:Object(gt.jsx)(ye.a,{placement:"topLeft",overlay:Object(gt.jsx)(Pt.a,{children:bn.map((function(t){var e=Object(Nt.a)(t,3),n=e[0],r=e[1],i=e[2];return Object(gt.jsxs)(Pt.a.Item,{onClick:function(){return dt.setPaintMode(n)},children:[Object(gt.jsx)(ge.a,{type:r}),i]},n)}))}),children:Object(gt.jsx)(me.a,Object(jt.a)({icon:dn.get(dt.paintMode)},hn))})})})),fn=Object(U.b)((function(){return pt.loaded?Object(gt.jsxs)("div",{children:[Object(gt.jsx)(zt,{}),Object(gt.jsx)(sn,{}),Object(gt.jsx)(ln,{}),Object(gt.jsx)(jn,{})]}):Object(gt.jsx)("h1",{children:"Loading..."})})),On=function(t){return Object(N.useEffect)((function(){var e=function(t){return ae.apply(this,arguments)}(t.match.params.mapId);return function(){e.then((function(t){return t()}))}}),[t.match.params.mapId]),Object(gt.jsx)(U.a,{mapStatus:pt,newRegionStatus:ut,transformStatus:lt,uploadInfoStatus:ht,onlineListStatus:bt,toolsStatus:dt,children:Object(gt.jsx)(fn,{})})},yn=new(_e=function(){function t(){Object(F.a)(this,t),Object($.a)(this,"loaded",Ze,this),Object($.a)(this,"mapList",Ue,this)}return Object(Q.a)(t,[{key:"setList",value:function(t){this.loaded=!0,this.mapList=t}}]),t}(),Ze=Object(tt.a)(_e.prototype,"loaded",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ue=Object(tt.a)(_e.prototype,"mapList",[et.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(tt.a)(_e.prototype,"setList",[et.f],Object.getOwnPropertyDescriptor(_e.prototype,"setList"),_e.prototype),_e);function gn(){return(gn=Object(Yt.a)(St.a.mark((function t(){var e;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(Et.map((function(t){return t()})));case 2:e=t.sent,yn.setList(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var mn=Object(U.b)((function(){return Object(gt.jsxs)("div",{style:{margin:"5rem"},children:[Object(gt.jsx)("h1",{children:"\u5730\u56fe\u7f16\u8f91\u5668"}),Object(gt.jsx)(se.a,{children:yn.mapList.map((function(t,e){var n=t.title,r=t.mapId;return Object(gt.jsx)(pe.a,{span:24,children:Object(gt.jsx)(_.b,{to:"/map/".concat(r),children:Object(gt.jsx)(me.a,{type:"primary",size:"large",block:!0,style:{backgroundColor:"black",color:"white",border:"none"},children:n})})},e)}))})]})})),wn=Object(U.b)((function(){return yn.loaded?Object(gt.jsx)(mn,{}):Object(gt.jsx)("h1",{children:"Loading..."})})),xn=function(){return Object(N.useEffect)((function(){!function(){gn.apply(this,arguments)}()}),[]),Object(gt.jsx)(U.a,{mapListStatus:yn,children:Object(gt.jsx)(wn,{})})},vn=function(){return Object(gt.jsx)(J.a,{locale:A.a,children:Object(gt.jsx)("div",{className:"App",children:Object(gt.jsxs)(_.a,{children:[Object(gt.jsx)(Z.a,{path:"/",exact:!0,component:xn}),Object(gt.jsx)(Z.a,{path:"/map/:mapId",component:On})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));E.a.render(Object(gt.jsx)(vn,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[447,1,2]]]);
//# sourceMappingURL=main.0e81fea5.chunk.js.map